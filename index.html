<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TRIBAL IS COMING FOR YOU</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="assets/style.css">
</head>
<body>

  <main class="container">
    <h1>TRIBAL IS COMING FOR YOU</h1>

<form id="signupForm">
  <input
    type="email"
    id="email"
    name="email"
    placeholder="Enter your email"
    required
  >

  <p class="consent">
    BY ENTERING MY EMAIL I GIVE TRIBAL III INC. ALSO KNOWN AS TRIBAL III,
    TRIBAL, TRIBALIII.COM AND TRIBALTHREE.COM EXPRESS WRITTEN PERMISSION
    TO CONTACT ME AT THE EMAIL AND PHONE NUMBER VIA EMAIL, PHONE, TEXT
    MESSAGE (SMS/MMS) AND/OR CELL PHONE (INCLUDING USE OF AUTOMATED
    DIALING EQUIPMENT AND PRE-RECORDED CALLS AND/OR MESSAGES). THIS
    CONSENT IS NOT A CONDITION OF RECEIVING SERVICES.
  </p>

  <button type="submit" class="grow-btn">
    GROW
  </button>
</form>

  </main>

  <!-- Success message -->
  <div id="successToast">âœ“ Successfully submitted</div>

  <script>
    const form = document.getElementById("signupForm");
    const emailInput = document.getElementById("email");
    const successToast = document.getElementById("successToast");

    const SCRIPT_URL =
      "https://script.google.com/macros/s/AKfycbyRR2Spg97Yl5umF69Wfu3GBb57WyX0ObeeHLV9omWfyn9SSND2UkqhobLa_UoBl16U/exec";

    form.addEventListener("submit", function (e) {
      e.preventDefault(); // stop redirect

      fetch(SCRIPT_URL, {
        method: "POST",
        headers: {
          "Content-Type": "application/x-www-form-urlencoded",
        },
        body: "email=" + encodeURIComponent(emailInput.value),
      })
        .then((res) => res.text())
        .then((text) => {
          if (text.includes("Success")) {
            emailInput.value = ""; // clear input
            showSuccess();
          }
        })
        .catch(() => {
          alert("Submission failed. Please try again.");
        });
    });

    function showSuccess() {
      successToast.style.display = "block";
      setTimeout(() => {
        successToast.style.display = "none";
      }, 3000);
    }
  </script>

</body>
</html>
